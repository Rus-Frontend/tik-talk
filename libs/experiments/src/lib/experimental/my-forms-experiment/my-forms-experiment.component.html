<form
  [formGroup]="paymentForm"
  (ngSubmit)="onSendPayment($event)"
>
  <div class="sender-wrapper">
    <h4 style="grid-column-start: 1; grid-column-end: 3">Отправитель</h4>

    <input
      class="my-tt-input"
      formControlName="senderName"
      placeholder="Наименование"
    />
    <input
      class="my-tt-input"
      formControlName="senderKPP"
      placeholder="КПП"
    />
  </div>

  <div class="recipient-wrapper">
    <h4 style="grid-column-start: 1; grid-column-end: 3">Получатель</h4>

    <div style="display: flex; gap: 10px">
      <button
        (click)="isLegal()"
        type="button"
        class="btn"
        style="width: 100px"
      >
        Юрлицо
      </button>
      <button
        (click)="isPerson()"
        type="button"
        class="btn"
        style="width: 100px"
      >
        Физлицо
      </button>
    </div>

    @if (!isReceiverPerson()) {
      <input
        class="my-tt-input"
        formControlName="receiverName"
        style="grid-column-start: 1; grid-column-end: 3"
        placeholder="Наименование получателя*"
      />
      <small class="required big">Это поле обязательно!</small>

      <input
        class="my-tt-input"
        formControlName="receiverINN"
        placeholder="ИНН*"
      />
      <input
        class="my-tt-input"
        formControlName="receiverKPP"
        placeholder="КПП"
      />

      @if (paymentForm.controls.receiverINN.touched &&
      paymentForm.controls.receiverINN.hasError('required')) {
        <small
          style="color: red; grid-column-start: 1; grid-column-end: 2"
        >Это поле обязательно!</small
        >
      }
      @if (paymentForm.controls.receiverINN.touched &&
      paymentForm.controls.receiverINN.hasError('minlength') ||
      paymentForm.controls.receiverINN.hasError('maxlength')) {
        <small
          style="color: red; grid-column-start: 1; grid-column-end: 2"
        >ИНН должен состоять из 10 цифр!</small
        >
      }
      @if (paymentForm.controls.receiverKPP.touched &&
      paymentForm.controls.receiverKPP.hasError('required')) {
        <small
          style="color: red; grid-column-start: 2; grid-column-end: 3"
        >Это поле обязательно!</small
        >
      }
      @if (paymentForm.controls.receiverKPP.touched &&
      paymentForm.controls.receiverKPP.hasError('minlength') ||
      paymentForm.controls.receiverKPP.hasError('maxlength')) {
        <small
          style="color: red; grid-column-start: 2; grid-column-end: 3"
        >КПП должен состоять из 9 цифр!</small
        >
      }

      <input
        class="my-tt-input"
        formControlName="receiverBIK"
        style="grid-column-start: 1; grid-column-end: 3"
        placeholder="БИК или название банка*"
      />
      @if (paymentForm.controls.receiverBIK.touched &&
      paymentForm.controls.receiverBIK.hasError('required')) {
        <small
          style="color: red; grid-column-start: 1; grid-column-end: 3"
        >Это поле обязательно!</small
        >
      }
      @if (paymentForm.controls.receiverBIK.touched &&
      (paymentForm.controls.receiverBIK.hasError('minlength') ||
        paymentForm.controls.receiverBIK.hasError('maxlength'))) {
        <small
          style="color: red; grid-column-start: 1; grid-column-end: 3"
        >БИК должен состоять из 9 цифр!</small
        >
      }

      <input
        class="my-tt-input"
        formControlName="receiverBankAcc"
        placeholder="Счёт получателя"
      />
      <input
        class="my-tt-input"
        formControlName="receiverUIN_UIP"
        placeholder="УИН/УИП"
      />
      @if (paymentForm.controls.receiverBankAcc.touched &&
      paymentForm.controls.receiverBankAcc.hasError('required')) {
        <small
          style="color: red; grid-column-start: 1; grid-column-end: 2"
        >Это поле обязательно!</small
        >
      }
      @if (paymentForm.controls.receiverBankAcc.touched &&
      paymentForm.controls.receiverBankAcc.hasError('minlength') ||
      paymentForm.controls.receiverBankAcc.hasError('maxlength')) {
        <small
          style="color: red; grid-column-start: 1; grid-column-end: 3"
        >Расчётный счёт должен состоять из 20 цифр!</small
        >
      }
    } @else {
      <input
        class="my-tt-input"
        formControlName="receiverName"
        style="grid-column-start: 1; grid-column-end: 3"
        placeholder="ФИО получателя*"
      />
      @if (paymentForm.controls.receiverName.touched &&
      paymentForm.controls.receiverName.hasError('required')) {
        <small
          style="color: red; grid-column-start: 1; grid-column-end: 3"
        >Это поле обязательно!</small
        >
      }
      <input
        class="my-tt-input"
        formControlName="receiverINN"
        placeholder="ИНН*"
      />
      @if (paymentForm.controls.receiverINN.touched &&
      paymentForm.controls.receiverINN.hasError('required')) {
        <small
          style="color: red; grid-column-start: 1; grid-column-end: 2"
        >Это поле обязательно!</small
        >
      }
      <input
        class="my-tt-input"
        formControlName="receiverBIK"
        style="grid-column-start: 1; grid-column-end: 3"
        placeholder="БИК или название банка*"
      />
      @if (paymentForm.controls.receiverBIK.touched &&
      paymentForm.controls.receiverBIK.hasError('required')) {
        <small
          style="color: red; grid-column-start: 1; grid-column-end: 3"
        >Это поле обязательно!</small
        >
      }
      <input
        class="my-tt-input"
        formControlName="receiverBankAcc"
        placeholder="Счёт получателя"
      />
      <input
        class="my-tt-input"
        formControlName="receiverUIN_UIP"
        placeholder="УИН/УИП"
      />
      @if (paymentForm.controls.receiverBankAcc.touched &&
      paymentForm.controls.receiverBankAcc.hasError('required')) {
        <small
          style="color: red; grid-column-start: 1; grid-column-end: 2"
        >Это поле обязательно!</small
        >
      }
    }

    <h5
      class="mt20"
      style="grid-column-start: 1; grid-column-end: 3"
    >
      Счёт списания и сумма
    </h5>
    <input
      class="my-tt-input"
      formControlName="senderBankAcc"
      style="grid-column-start: 1; grid-column-end: 3"
      placeholder="Расчётный счёт"
    />
    <input
      class="my-tt-input"
      formControlName="sum"
      style="grid-column-start: 1; grid-column-end: 3"
      placeholder="Сумма*"
    />
    <small class="required big">Это поле обязательно!</small>

    <h5
      class="mt20"
      style="grid-column-start: 1; grid-column-end: 3"
    >
      Назначение платежа
    </h5>
    <input
      class="my-tt-input"
      formControlName="purposePayment"
      style="grid-column-start: 1; grid-column-end: 3"
      placeholder="Назначение платежа*"
    />
    <small class="required big">Это поле обязательно!</small>

    <h5
      class="mt20"
      style="grid-column-start: 1; grid-column-end: 3"
    >
      Дата в документе
    </h5>
    <input
      class="my-tt-input"
      formControlName="paymentDate"
      style="grid-column-start: 1; grid-column-end: 3"
      placeholder="Дата"
    />

    <h5
      class="mt20"
      style="grid-column-start: 1; grid-column-end: 3"
    >
      Контакты
    </h5>
    <input
      class="my-tt-input"
      formControlName="senderTel"
      style="grid-column-start: 1; grid-column-end: 3"
      [maskito]="maskitoOptions"
      placeholder="Номер телефона"
    />
    <button
      class="btn mt20"
      type="submit"
    >Отправить
    </button>
  </div>
</form>
